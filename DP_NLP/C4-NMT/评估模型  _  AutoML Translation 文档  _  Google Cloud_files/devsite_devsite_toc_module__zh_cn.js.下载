(function(_ds){var window=this;'use strict';var kga=function(a){var b=a.VF,c=a.rC,d=a.eA;a=a.XC;var e='<ul class="devsite-nav-list" role="navigation" aria-label="'+_ds.xu("\u76ee\u5f55");e=e+'" scrollbars><li class="devsite-nav-item devsite-nav-heading devsite-toc-toggle" role="heading" aria-level="2"><a href="#top_of_page" class="devsite-nav-title" aria-label="'+_ds.xu("\u9875\u9996");e=e+'" data-title="'+_ds.xu("\u9875\u9996");e+='"><span class="devsite-nav-text">\u76ee\u5f55</span></a>';c&&(e=e+'<button type="button" title="'+
_ds.xu("\u5c55\u5f00/\u6536\u8d77\u5185\u5bb9"),e+='" class="devsite-nav-show-all button-transparent material-icons"></button>');e+="</li>";for(var g=b.length,h=0;h<g;h++){var k=b[h];e+='<li class="devsite-nav-item"'+(c&&k.index<a?" visible":"")+'><a href="#'+_ds.V(k.id)+'" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="'+(c?"Embedded nav":"Right nav")+'" data-value="'+_ds.V(h)+'" track-type="navigation" track-name="'+(c?"embeddedNav":
"rightNav")+'" track-metadata-position="'+_ds.V(h)+'" track-metadata-link-destination="#'+_ds.V(k.id)+'"><span class="devsite-nav-text" tooltip>'+_ds.T(k.text)+"</span></a>";if(_ds.ru(k.children).length){e+='<ul class="devsite-nav-list">';k=k.children;for(var l=k.length,n=0;n<l;n++){var q=k[n];e+='<li class="devsite-nav-item"'+(c&&q.index<a?" visible":"")+'><a href="#'+_ds.V(q.id)+'" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="'+
(c?"Embedded nav":"Right nav")+'" data-value="'+_ds.V(h)+"."+_ds.V(n)+'" track-type="navigation" track-name="'+(c?"embeddedNav":"rightNav")+'" track-metadata-position="'+_ds.V(h)+"."+_ds.V(n)+'" track-metadata-link-destination="#'+_ds.V(q.id)+'"><span class="devsite-nav-text" tooltip>'+_ds.T(q.text)+"</span></a></li>"}e+="</ul>"}e+="</li>"}d&&(e=c?e+'<li class="devsite-nav-item devsite-apix-link"><a href="#try-it" class="devsite-nav-title"><span class="devsite-nav-text" tooltip>\u8bd5\u7528</span></a></li>':
e+'<button type="button" class="devsite-show-apix button-primary">\u8bd5\u8bd5\u770b\uff01</button>');c&&(e=e+'<li class="devsite-toc-toggle"><button type="button" class="button-flat devsite-nav-more-items material-icons" track-type="navigation" track-name="embeddedNavExpand" title="'+_ds.xu("\u5c55\u5f00/\u6536\u8d77\u5185\u5bb9"),e+='" aria-hidden="true"></button></li>');return(0,_ds.R)(e+"</ul>")},s8=function(){var a=_ds.W.call(this)||this;a.ea=!1;a.ya=!1;a.Ba=new _ds.al;a.Ia=[];a.Ja=0;a.Ca=[];
a.Ga=new _ds.Yk(function(){return r8(a)},16);a.ra=null;a.Da=new _ds.jz;a.xa=new Set;a.Fa=[];a.oa=null;return a},mga=function(a){var b,c,d;_ds.C(function(e){switch(e.ea){case 1:if(!("IntersectionObserver"in _ds.Zd())){e.Ha(2);break}a.ra&&a.ra.disconnect();b=document.querySelector("devsite-header");c=152;if(!b){e.Ha(3);break}return _ds.x(e,window.customElements.whenDefined("devsite-header"),4);case 4:(d=parseFloat(b.getAttribute("top-row--height")||0)+parseFloat(b.getAttribute("bottom-row--height")||
0))&&(c=d);case 3:a.ra=new IntersectionObserver(function(g){lga(a,g)},{rootMargin:c+"px 0px 0px 0px",threshold:[0,1]});case 2:a.Da.resolve(),_ds.y(e)}})},t8=function(a){_ds.ci(a);a.dispatchEvent(new CustomEvent("devsite-element-hidden",{bubbles:!0}));a.removeAttribute("visible");a.setAttribute("hidden","");a.ea||(a=document.querySelector(".devsite-main-content"))&&a.removeAttribute("has-toc")},u8=function(a){a.dispatchEvent(new CustomEvent("devsite-element-visible",{bubbles:!0}));a.removeAttribute("hidden");
a.setAttribute("visible","");if(!a.ea){var b=document.querySelector(".devsite-main-content");b&&b.setAttribute("has-toc","");mga(a)}},r8=function(a){if(!a.hasAttribute("disabled")){var b=document.querySelector("devsite-content .devsite-article-body");b?(a.ea?a.classList.add("devsite-toc-embedded"):a.classList.add("devsite-toc"),nga(a,b),a.ya=!0,a.ea||(v8(a),w8(a))):t8(a)}},nga=function(a,b){var c,d,e,g;_ds.C(function(h){c=[];d=!1;e=Array.from(b.querySelectorAll("h2:not(.hide-from-toc):not(#contents):not(#table-of-contents), h3:not(.hide-from-toc):not(#contents):not(#table-of-contents)")).filter(function(k){return k.id&&
k.dataset.text}).filter(function(k){return oga(k)});e.forEach(function(k,l){k={id:k.id,level:k.tagName.toLowerCase(),text:k.dataset.text,children:[],index:l};"h2"===k.level?(c.push(k),d=!0):d?c[c.length-1].children.push(k):c.push(k)});if((g=_ds.Pb(a.Ca,c,a.Zs.bind(a)))&&a.ya)return h.return();c.length?(pga(a,c),u8(a),a.ea||qga(a,e)):t8(a);a.Ca=c;a.ea||(v8(a),w8(a),a.dispatchEvent(new CustomEvent("devsite-toc-updated",{bubbles:!0})));_ds.y(h)})},lga=function(a,b){b=_ds.u(b);for(var c=b.next();!c.done;c=
b.next())c=c.value,c.isIntersecting?a.xa.add(c.target):a.xa.delete(c.target);if(b=a.xa.values().next().value){var d="#"+b.id,e="#"+encodeURI(b.id);b=a.Fa.find(function(g){g=g.href;return-1!==g.indexOf(d,g.length-d.length)||-1!==g.indexOf(e,g.length-e.length)});a.oa!==b&&(a.oa&&a.oa.classList.remove("devsite-nav-active"),b&&(b.classList.add("devsite-nav-active"),a.oa=b))}},qga=function(a,b){var c,d,e;_ds.C(function(g){if(1==g.ea)return _ds.x(g,a.Da.promise,2);if(!a.ra)return g.return();a.ra.disconnect();
a.xa.clear();a.oa&&a.oa.classList.remove("devsite-nav-active");a.oa=null;c=_ds.u(b);for(d=c.next();!d.done;d=c.next())e=d.value,a.ra.observe(e);_ds.y(g)})},oga=function(a){return _ds.$F.find(function(b){return!!_ds.Ji(a,b,6)})||_ds.Ii(a,"devsite-selector",null,6)||_ds.Ji(a,"devsite-dialog",3)?!1:!0},pga=function(a,b){var c=_ds.hv(kga,{VF:b,rC:a.ea,eA:!!document.body.querySelector("devsite-apix, .devsite-apix"),XC:5});a.Fa=Array.from(c.querySelectorAll(".devsite-nav-title"));_ds.ci(a);a.ea&&c.setAttribute("hidden",
"");a.appendChild(c);a.ea&&(8<=a.getElementsByClassName("devsite-nav-item").length&&(Array.from(a.querySelectorAll(".devsite-nav-show-all, .devsite-nav-more-items")).forEach(function(d){a.Ba.listen(d,"click",function(){a.hasAttribute("expanded")?a.removeAttribute("expanded"):a.setAttribute("expanded","")})}),a.setAttribute("expandable","")),setTimeout(function(){c.removeAttribute("hidden")},0))},w8=function(a){var b=a.getAttribute("offset")||0;(a=a.querySelector(".devsite-nav-list"))&&_ds.jl(a,"transform",
"translate3d(0, -"+b+"px, 0)")},v8=function(a){var b=a.getAttribute("max-height")||0;(a=a.querySelector(".devsite-nav-list"))&&_ds.jl(a,"max-height",b+"px")};_ds.v(s8,_ds.W);_ds.f=s8.prototype;_ds.f.connectedCallback=function(){var a=this;this.ea=this.hasAttribute("devsite-toc-embedded");r8(this);this.Ba.listen(document.body,"devsite-content-updated",function(){r8(a)})};_ds.f.disconnectedCallback=function(){t8(this);this.ya=!1;_ds.fl(this.Ba)};_ds.f.attributeChangedCallback=function(a){switch(a){case "offset":w8(this);break;case "max-height":v8(this)}};
_ds.f.renderUpdatedContent=function(a){a=a&&"false"===a.toLowerCase();this.Ca=[];_ds.ci(this);a?(this.setAttribute("disabled",""),t8(this)):(this.removeAttribute("disabled"),u8(this),this.Ga.xb())};_ds.f.Zs=function(a,b){var c=!0;if(a.children.length||b.children.length)c=_ds.Pb(a.children,b.children,this.Zs.bind(this));return c&&a.id===b.id&&a.text===b.text};_ds.m.Object.defineProperties(s8,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["max-height","offset"]}}});
s8.prototype.renderUpdatedContent=s8.prototype.renderUpdatedContent;s8.prototype.attributeChangedCallback=s8.prototype.attributeChangedCallback;s8.prototype.disconnectedCallback=s8.prototype.disconnectedCallback;s8.prototype.connectedCallback=s8.prototype.connectedCallback;try{window.customElements.define("devsite-toc",s8)}catch(a){console.warn("devsite.app.customElement.DevsiteToc",a)};})(_ds_www);
