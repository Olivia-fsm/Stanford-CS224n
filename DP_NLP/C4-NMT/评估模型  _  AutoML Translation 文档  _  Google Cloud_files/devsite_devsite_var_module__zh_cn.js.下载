(function(_ds){var window=this;'use strict';var Jga=function(){return(0,_ds.R)('<span class="devsite-var-input-wrapper"><button class="material-icons devsite-icon-close" tabindex="-1"></button></span>')},Kga=function(){return(0,_ds.R)('<input class="devsite-var-input" type="text" translate="no" spellcheck="false">')},Lga=function(a){return(0,_ds.R)('<span class="devsite-var-wrapper"><var spellcheck="false" is-upgraded>'+_ds.T(a.placeholder)+"</var></span>")},Mga=function(){return(0,_ds.R)('<a class="material-icons devsite-icon-edit" role="button" tabindex="-1"></a>')},
d9=function(){var a=_ds.W.call(this)||this;a.ra=new _ds.al(a);a.Ca=!1;a.oa="";a.Ba="";return a},e9=function(){return"devsite-var"},Oga=function(a){var b,c,d;_ds.C(function(e){if(1==e.ea){a.oa=_ds.Ei(a);var g=a.getAttribute("label");g||(a.setAttribute("label",a.oa),g=a.oa);a.Ba=g;b=_ds.Ii(a,"devsite-code");a:{if(a.classList.contains("no-scope"))a.classList.remove("no-scope"),a.hasAttribute("scope")&&a.removeAttribute("scope");else if(!a.hasAttribute("scope")&&b){g=!0;break a}g=!1}g&&a.setAttribute("scope",
a.oa);return b?_ds.x(e,b.whenReady(),2):e.Ha(2)}_ds.fv(a,Lga,{placeholder:_ds.Ei(a)});if(a.classList.contains("edit")||b&&!b.hasAttribute("no-copy")&&!b.firstElementChild.classList.contains("readonly")&&!a.classList.contains("readonly"))a.Da=a.querySelector("var"),c=_ds.hv(Mga),_ds.fi(a.Da,c,1),d=a.querySelector(".devsite-var-wrapper"),a.ya=_ds.hv(Jga),_ds.fi(d,a.ya,0),a.ea=_ds.hv(Kga),a.setAttribute("tabindex",0),a.Da.setAttribute("data-title","\u4fee\u6539 "+a.Ba),Nga(a);a.removeAttribute("label");
_ds.y(e)})},Nga=function(a){a.ra.listen(a,"focusin",function(){a.hasAttribute("active")||(a.setAttribute("active",""),_ds.fi(a.ya,a.ea,0),a.ea.value=_ds.Ei(a),a.ea.select(),a.setAttribute("tabindex",-1))});a.ra.listen(a.ea,"focusout",function(){a.removeAttribute("active");a.ya.removeChild(a.ea);a.setAttribute("tabindex",0)});a.ra.listen(a,"keydown",function(b){13!==b.keyCode&&27!==b.keyCode||a.ea.blur()});a.ra.listen(a,"input",function(b){if(!a.Ca){if(a.hasAttribute("scope")){var c=a.getAttribute("scope");
a.xa=Array.from(document.querySelectorAll('devsite-var[scope="'+c+'"]'))}else a.xa=Array(a);a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",action:"New Placeholder Edited",label:a.oa,value:a.xa.length},bubbles:!0}));c={eventData:JSON.stringify({name:"New Placeholder Edited".replace(/\s/g,""),type:"editablePlaceholderVariable",metadata:{"var":a.oa,varsInScope:a.xa.length}})};a.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",
{detail:c,bubbles:!0}));a.Ca=!0}Pga(a,b.target.value)})},Pga=function(a,b){a.xa.forEach(function(c){c.setAttribute("value",b)})};_ds.v(d9,_ds.W);d9.prototype.connectedCallback=function(){if(!this.hasAttribute("ready")){this.setAttribute("ready","");var a=this.querySelector("var");if(a){a=_ds.u(a.attributes);for(var b=a.next();!b.done;b=a.next())b=b.value,this.setAttribute(b.name,b.value)}Oga(this)}};d9.prototype.attributeChangedCallback=function(a,b,c){if(a=this.querySelector("var"))a.firstChild.nodeValue=c?c:""};d9.prototype.disconnectedCallback=function(){_ds.fl(this.ra)};
_ds.m.Object.defineProperties(d9,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["value"]}}});d9.prototype.disconnectedCallback=d9.prototype.disconnectedCallback;d9.prototype.attributeChangedCallback=d9.prototype.attributeChangedCallback;d9.prototype.connectedCallback=d9.prototype.connectedCallback;d9.getTagName=e9;try{window.customElements.define(e9(),d9)}catch(a){console.warn("devsite.app.CustomElement.DevsiteVar",a)};})(_ds_www);
