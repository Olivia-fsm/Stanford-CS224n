(function(_ds){var window=this;'use strict';var p5=function(a,b,c){_ds.Ok(a,null,b,c)},Xca=function(a){if(a instanceof _ds.Ek)return a;var b=new _ds.Ek(_ds.Ya);_ds.Dk(b,2,a);return b},Yca=function(a){this.oa=a;this.ra=this.ea=null;a.then((0,_ds.jb)(function(b){this.ea=b},this),function(){},this)},q5=function(a,b,c){return a.oa.then(function(d){var e=d[b];if(!e)throw Error("Method not found: "+b);return e.apply(d,c)})},r5=function(a,b,c){if(a=a.ea)if(b=a[b])return b.apply(a,c)},Zca=function(a,b,c){for(var d=Array(arguments.length-
2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];e=s5(a,b).then(function(g){return g.apply(null,d)});return new Yca(e)},s5=function(a,b){var c=t5[b];if(c)return c;c=(c=_ds.Xa(b))?Xca(c):(new _ds.Ek(function(d,e){var g=(new _ds.Eh(document)).createElement("SCRIPT");g.async=!0;_ds.Xd(g,_ds.zc(_ds.pc(a)));g.onload=g.onreadystatechange=function(){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||d()};g.onerror=e;(document.head||document.getElementsByTagName("head")[0]).appendChild(g)})).then(function(){var d=
_ds.Xa(b);if(!d)throw Error("Failed to load "+b+" from "+a);return d});return t5[b]=c},u5=function(a){this.ea=a;this.oa=null},w5=function(a){var b=_ds.W.call(this)||this;b.ea=null;a&&(v5=a,b.ea=v5);return b},x5=function(){return"devsite-hats-survey"},A5=function(){return y5?(v5.xA({surveyMetadata:{sessionId:y5}}),z5.promise):Promise.resolve()},$ca=function(a){var b;return _ds.C(function(c){if(1==c.ea)return _ds.x(c,DevsiteApp.whenReady(),2);b=a.getAttribute("listnr-id");var d={locale:DevsiteApp.getLocale()||
"en",apiKey:"AIzaSyArC61vXsxgHizCNzGEDzdTWWhmiZsP2V4"};d=Zca(B5,"help.service.Lazy.create",b,{apiKey:d.apiKey||d.apiKey,environment:d.Yn||d.environment,helpCenterPath:d.Wfa||d.helpCenterPath,locale:d.locale||d.locale||"zh-CN".replace(/-/g,"_"),nonce:d.nonce||d.nonce,productData:d.productData||d.productData,receiverUri:d.tAa||d.receiverUri,renderApiUri:d.HAa||d.renderApiUri,theme:d.YF||d.theme,window:d.window||d.window});v5=new u5(d);a.ea=v5;_ds.y(c)})},ada=function(a,b){a.ea.sE({surveyData:b,colorScheme:1,
authuser:0,customZIndex:1E4,listener:{surveyPrompted:function(c){y5=c.sessionId;z5=new _ds.jz;C5=z5.resolve},surveyClosed:function(){y5=D5=null;C5()}}})};var t5={};_ds.f=u5.prototype;_ds.f.KIa=function(a){q5(this.ea,"startFeedback",arguments)};_ds.f.LIa=function(a,b){q5(this.ea,"startGuide",arguments)};_ds.f.PIa=function(){q5(this.ea,"stopGuide",arguments)};_ds.f.MIa=function(a){q5(this.ea,"startHelp",arguments)};_ds.f.iia=function(a){q5(this.ea,"loadChatSupport",arguments)};_ds.f.dF=function(a){p5(q5(this.ea,"requestSurvey",arguments),function(){},this)};_ds.f.sE=function(a){p5(q5(this.ea,"presentSurvey",arguments),function(){},this)};
_ds.f.xA=function(a){p5(q5(this.ea,"dismissSurvey",arguments),function(){},this)};_ds.f.BAa=function(a,b,c){q5(this.ea,"registerHelpAction",arguments)};_ds.f.vZ=function(a,b){r5(this.ea,"executeHelpAction",arguments)};_ds.f.sha=function(a){return!!r5(this.ea,"isHelpActionApplicable",arguments)};var B5=_ds.qc("https://www.gstatic.com/feedback/js/help/prod/service/lazy.min.js");p5(s5(B5,"help.service.Lazy.create"),function(){});var E5=null,y5=null,D5=null,bda=new _ds.al,v5,z5=new _ds.jz,C5=z5.resolve;_ds.v(w5,_ds.W);w5.prototype.connectedCallback=function(){var a=this,b;return _ds.C(function(c){if(1==c.ea)return D5=a,(b=a.getAttribute("hats-id"))&&b!==E5?_ds.x(c,A5(),3):c.Ha(0);if(4!=c.ea)return a.ea?c.Ha(4):_ds.x(c,$ca(a),4);E5=b;a.Sw(b);_ds.y(c)})};w5.prototype.disconnectedCallback=function(){D5=null;_ds.el(bda,document.body,"devsite-page-changed",function(){D5||(A5(),E5=null)})};
w5.prototype.Sw=function(a){var b=this;return _ds.C(function(c){if(1==c.ea)return _ds.x(c,DevsiteApp.whenReady(),2);b.ea.dF({triggerId:a,callback:function(d){d.surveyData&&ada(b,d.surveyData)},authuser:0,enableTestingMode:!1});_ds.y(c)})};w5.prototype.renderSurvey=w5.prototype.Sw;w5.prototype.disconnectedCallback=w5.prototype.disconnectedCallback;w5.prototype.connectedCallback=w5.prototype.connectedCallback;w5.closeCurrentSurvey=A5;w5.getTagName=x5;try{window.customElements.define(x5(),w5)}catch(a){console.warn("devsite.app.customElement.DevsiteHatsSurvey",a)};})(_ds_www);
